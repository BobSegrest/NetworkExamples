<!DOCTYPE html>
<html>
	<head>
	<script src="/socket.io/socket.io.js"></script>
	<script>
		// open a connection to the serial server:
		var socket = io.connect('http://localhost:8080');
		var brightness = 0;		// value to send to the server
		
		 // when you get a serialdata event, do this:
		socket.on('serverData', function (data) {
			// set the stuff inside the element's HTML tags to
			// whatever the 'value' property of the received data is:
			textDisplay.innerHTML = data;
		});
		
		socket.on('connect', function() {
		// send data back to the server:	
		function sendData() {
		// make sure the port is open before you write to it:
			socket.emit('clientData', brightness);
			textDisplay.innerHTML = brightness;
			if (brightness < 255) {
				brightness+= 10;
			} else {
				brightness = 0;
			}	
		}		
		// start an interval timer to run heartBeat() every two seconds:
		setInterval(sendData, 1000);
		});
	</script>

	</head>
	<body>
	And the current brightness is:
	<div id="textDisplay">Text will show up here</div>
	</body>
</html>